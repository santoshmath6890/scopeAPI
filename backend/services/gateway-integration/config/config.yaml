server:
  port: "8080"
  host: "0.0.0.0"
  read_timeout: "30s"
  write_timeout: "30s"
  max_header_bytes: 1048576

database:
  postgresql:
    host: "${POSTGRES_HOST:-localhost}"
    port: ${POSTGRES_PORT:-5432}
    user: "${POSTGRES_USER:-scopeapi}"
    password: "${POSTGRES_PASSWORD}"
    dbname: "${POSTGRES_DBNAME:-scopeapi}"
    sslmode: "disable"
    max_open_conns: 25
    max_idle_conns: 5
    conn_max_lifetime: "5m"

messaging:
  kafka:
    brokers:
      - "localhost:9092"
    topic_prefix: "gateway_integration"
    producer:
      acks: "all"
      retry_max: 3
      batch_size: 16384
      linger_ms: 1
    consumer:
      group_id: "gateway_integration_consumer"
      auto_offset_reset: "earliest"
      enable_auto_commit: true
      auto_commit_interval: "1s"

auth:
  jwt:
    secret: "your-secret-key-here"
    expiration: "24h"
    issuer: "scopeapi"

logging:
  level: "info"
  format: "json"
  output: "stdout"

monitoring:
  metrics:
    enabled: true
    port: "9090"
    path: "/metrics"
  health:
    enabled: true
    port: "8081"
    path: "/health"

gateway:
  kong:
    admin_timeout: "10s"
    proxy_timeout: "30s"
  nginx:
    config_path: "/etc/nginx/nginx.conf"
    reload_command: "nginx -s reload"
    test_command: "nginx -t"
  traefik:
    api_timeout: "10s"
    dashboard_enabled: true
  envoy:
    admin_timeout: "10s"
    config_timeout: "30s"
  haproxy:
    config_path: "/etc/haproxy/haproxy.cfg"
    reload_command: "systemctl reload haproxy"
    test_command: "haproxy -c -f /etc/haproxy/haproxy.cfg"

security:
  rate_limit:
    enabled: true
    requests_per_minute: 100
  cors:
    enabled: true
    allowed_origins:
      - "*"
    allowed_methods:
      - "GET"
      - "POST"
      - "PUT"
      - "DELETE"
      - "OPTIONS"
    allowed_headers:
      - "Content-Type"
      - "Authorization"
      - "X-Requested-With" 